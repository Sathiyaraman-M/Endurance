@page "/administration/settings"
@attribute [Authorize(Policy = Permissions.Settings.View)]
@inject SettingsHttpClient _settingsHttpClient

<EditForm Model=Model OnValidSubmit=SaveSettingsAsync>
    <MudCard Elevation=0 Outlined>
        <MudCardHeader>
            <MudText Typo="Typo.h6"><MudIcon Icon="@Icons.Material.Filled.Settings" Class="mr-3 mb-n1" />Settings</MudText>
        </MudCardHeader>
        <MudCardContent>
            <FluentValidationValidator @ref="_fluentValidationValidator" />
            <MudGrid>
                <MudItem xs="12" sm="4" md="3">
                    <MudNumericField T="decimal" For="(() => Model.CheckInDelayFinePerDay)" @bind-Value="Model.CheckInDelayFinePerDay" Label="Check In Delay Fine Per Day" Variant=Variant.Outlined Margin=Margin.Dense />
                </MudItem>
                <MudItem xs="12" sm="4" md="3">
                    <MudNumericField T="int" For="(() => Model.DefaultMultipleCheckoutLimit)" @bind-Value="Model.DefaultMultipleCheckoutLimit" Label="Default Simultaneous Mulitple Checkout Limit" Variant=Variant.Outlined Margin=Margin.Dense />
                </MudItem>
                <MudItem xs="12" sm="4" md="3">
                    <MudNumericField T="int" For="(() => Model.DefaultExpectedCheckInInterval)" @bind-Value="Model.DefaultExpectedCheckInInterval" Label="Default Expected Check In Time Interval" Variant=Variant.Outlined Margin=Margin.Dense />
                </MudItem>
            </MudGrid>
        </MudCardContent>
        <MudCardActions>
            <MudButton ButtonType=ButtonType.Submit Size=Size.Large Color=Color.Primary DisableElevation Disabled=@(!Validated) Variant=Variant.Filled Class="ml-auto mr-2">Save Changes</MudButton>
        </MudCardActions>
    </MudCard>
</EditForm>